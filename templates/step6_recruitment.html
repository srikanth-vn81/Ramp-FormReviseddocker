{% extends "base_step.html" %}

{% block form_content %}
<div class="row justify-content-center">
    <div class="col-lg-10">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-warning text-dark">
                <div class="d-flex justify-content-between align-items-center">
                    <h6 class="card-title mb-0 fw-bold">
                        <i class="fas fa-user-tie me-2"></i>Recruitment Planning
                    </h6>
                    <button type="button" class="btn btn-outline-dark btn-sm" onclick="resetRecruitmentForm()">
                        <i class="fas fa-undo me-1"></i>Reset
                    </button>
                </div>
            </div>
            <div class="card-body">
                <!-- Lead Time Section -->
                <div class="mb-4">
                    <h6 class="fw-bold text-warning mb-3">
                        <i class="fas fa-clock me-2"></i>Hiring Timeline
                    </h6>
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label fw-semibold">Lead Time to Hire</label>
                            <div class="input-group">
                                {{ form.recruitment_lead_time(class="form-control", placeholder="30") }}
                                <span class="input-group-text">days</span>
                            </div>
                            <small class="text-muted">Average time from job posting to start date</small>
                        </div>
                    </div>
                </div>

                <!-- Hiring Capacity Section -->
                <div class="mb-4">
                    <h6 class="fw-bold text-info mb-3">
                        <i class="fas fa-users me-2"></i>Hiring Capacity
                    </h6>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label fw-semibold">Weekly Hiring Capacity</label>
                            <div class="input-group">
                                {{ form.hiring_capacity_weekly(class="form-control", placeholder="10") }}
                                <span class="input-group-text">hires/week</span>
                            </div>
                            <small class="text-muted">Number of new hires per week</small>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-semibold">Monthly Hiring Capacity</label>
                            <div class="input-group">
                                {{ form.hiring_capacity_monthly(class="form-control", placeholder="40") }}
                                <span class="input-group-text">hires/month</span>
                            </div>
                            <small class="text-muted">Maximum new hires per month</small>
                        </div>
                    </div>
                </div>

                <!-- Additional Notes Section -->
                <div class="mb-4">
                    <h6 class="fw-bold text-success mb-3">
                        <i class="fas fa-sticky-note me-2"></i>Additional Information
                    </h6>
                    <div class="row">
                        <div class="col-12">
                            <label class="form-label fw-semibold">Recruitment Notes & Special Requirements</label>
                            {{ form.recruitment_notes(class="form-control", rows="4", placeholder="Enter any specific recruitment requirements, preferred recruitment channels, skill requirements, or other relevant notes...") }}
                            <small class="text-muted">Optional: Include any special requirements or constraints for recruitment</small>
                        </div>
                    </div>
                </div>

                <!-- Recruitment Summary -->
                <div class="mb-4">
                    <h6 class="fw-bold text-primary mb-3">
                        <i class="fas fa-chart-bar me-2"></i>Recruitment Summary
                    </h6>
                    <div class="bg-light p-3 rounded">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="d-flex justify-content-between">
                                    <span><strong>Lead Time:</strong></span>
                                    <span id="summary-lead-time">30 days</span>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="d-flex justify-content-between">
                                    <span><strong>Weekly Capacity:</strong></span>
                                    <span id="summary-weekly">10 hires</span>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="d-flex justify-content-between">
                                    <span><strong>Monthly Capacity:</strong></span>
                                    <span id="summary-monthly">40 hires</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="d-flex justify-content-between mt-4">
                    <a href="{{ url_for('ramp_form_step', step=5) }}" class="btn btn-outline-secondary">
                        <i class="fas fa-arrow-left me-2"></i>Previous: Location Planning
                    </a>
                    <button type="submit" class="btn btn-primary">
                        Next: Submit <i class="fas fa-arrow-right ms-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
/* Professional Recruitment Form Styling */
.card-header.bg-warning {
    background: linear-gradient(135deg, #ffc107 0%, #ffb300 100%) !important;
}

.input-group-text {
    font-weight: 500;
    background: #f8f9fa;
    border-color: #e9ecef;
}

.form-control:focus {
    border-color: #ffc107;
    box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.15);
}

.text-warning {
    color: #f57c00 !important;
}

.bg-light {
    background: #f8f9fa !important;
}
</style>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Update recruitment summary
    function updateRecruitmentSummary() {
        const leadTime = document.getElementById('recruitment_lead_time').value || 30;
        const weeklyCapacity = document.getElementById('hiring_capacity_weekly').value || 10;
        const monthlyCapacity = document.getElementById('hiring_capacity_monthly').value || 40;
        
        document.getElementById('summary-lead-time').textContent = `${leadTime} days`;
        document.getElementById('summary-weekly').textContent = `${weeklyCapacity} hires`;
        document.getElementById('summary-monthly').textContent = `${monthlyCapacity} hires`;
    }
    
    // Add event listeners to form inputs
    document.getElementById('recruitment_lead_time').addEventListener('input', updateRecruitmentSummary);
    document.getElementById('hiring_capacity_weekly').addEventListener('input', updateRecruitmentSummary);
    document.getElementById('hiring_capacity_monthly').addEventListener('input', updateRecruitmentSummary);
    
    // Reset function
    window.resetRecruitmentForm = function() {
        document.getElementById('recruitment_lead_time').value = '';
        document.getElementById('hiring_capacity_weekly').value = '';
        document.getElementById('hiring_capacity_monthly').value = '';
        document.getElementById('recruitment_notes').value = '';
        updateRecruitmentSummary();
    };
    
    // Initial summary update
    updateRecruitmentSummary();
});
</script>
{% endblock %}