<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WFM Analytics - Ramp Input Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="#">
                <i class="fas fa-chart-line me-2"></i>WFM Analytics
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <i class="fas fa-home me-1"></i>Home
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-clipboard-list me-1"></i>Forms
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item active" href="#">
                                <i class="fas fa-chart-bar me-2"></i>Ramp Input Form
                            </a></li>
                            <li><a class="dropdown-item" href="#">
                                <i class="fas fa-ruler me-2"></i>Sizing Form
                            </a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#">
                            <i class="fas fa-user me-1"></i>Login
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container-fluid">
            <!-- Flash Messages -->
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <div class="row mt-3">
                        <div class="col-12">
                            {% for category, message in messages %}
                                <div class="alert alert-{{ 'success' if category == 'success' else 'danger' }} alert-dismissible fade show" role="alert">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            {% endwith %}

            <form method="POST" class="form-container">
                {{ form.hidden_tag() }}
                
                <div class="row g-4">
                    <!-- Left Section - Training Form -->
                    <div class="col-lg-8">
                        <div class="card shadow-sm">
                            <div class="card-header bg-primary text-white">
                                <h2 class="card-title mb-0">
                                    <i class="fas fa-graduation-cap me-2"></i>Training Details
                                </h2>
                            </div>
                            <div class="card-body">
                                <!-- Ramp Start Date -->
                                <div class="row mb-3">
                                    <label class="col-sm-3 col-form-label fw-semibold required">Ramp Start Date</label>
                                    <div class="col-sm-9">
                                        <div class="row g-2">
                                            <div class="col-md-6">
                                                {{ form.ramp_start_availability(class="form-select") }}
                                            </div>
                                            <div class="col-md-6 date-input-container" id="ramp-start-date-container" style="display: none;">
                                                {{ form.ramp_start_date(class="form-control") }}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Ramp End Date -->
                                <div class="row mb-3">
                                    <label class="col-sm-3 col-form-label fw-semibold required">Ramp End Date</label>
                                    <div class="col-sm-9">
                                        <div class="row g-2">
                                            <div class="col-md-6">
                                                {{ form.ramp_end_availability(class="form-select") }}
                                            </div>
                                            <div class="col-md-6 date-input-container" id="ramp-end-date-container" style="display: none;">
                                                {{ form.ramp_end_date(class="form-control") }}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Client Trainer -->
                                <div class="row mb-3">
                                    <label class="col-sm-3 col-form-label fw-semibold required">Client Trainer</label>
                                    <div class="col-sm-9">
                                        {{ form.client_trainer(class="form-select") }}
                                    </div>
                                </div>

                                <!-- Internal Trainer -->
                                <div class="row mb-3">
                                    <label class="col-sm-3 col-form-label fw-semibold required">Internal Trainer</label>
                                    <div class="col-sm-9">
                                        {{ form.internal_trainer(class="form-select") }}
                                    </div>
                                </div>

                                <!-- Total Trainers -->
                                <div class="row mb-3">
                                    <label class="col-sm-3 col-form-label fw-semibold required"># of Total Trainer</label>
                                    <div class="col-sm-9">
                                        {{ form.total_trainers(class="form-control", min="0") }}
                                    </div>
                                </div>

                                <!-- Additional Fields (shown conditionally) -->
                                <div id="additional-fields" class="additional-fields" style="display: none;">
                                    <hr class="my-4">
                                    
                                    <!-- Training Duration -->
                                    <div class="row mb-3">
                                        <label class="col-sm-3 col-form-label fw-semibold required">Training Duration</label>
                                        <div class="col-sm-9">
                                            <div class="row g-2">
                                                <div class="col-md-6">
                                                    {{ form.training_duration(class="form-select") }}
                                                </div>
                                                <div class="col-md-6" id="training-duration-number-container" style="display: none;">
                                                    {{ form.training_duration_number(class="form-select") }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Nesting Duration -->
                                    <div class="row mb-3">
                                        <label class="col-sm-3 col-form-label fw-semibold required">Nesting Duration</label>
                                        <div class="col-sm-9">
                                            <div class="row g-2">
                                                <div class="col-md-6">
                                                    {{ form.nesting_duration(class="form-select") }}
                                                </div>
                                                <div class="col-md-6" id="nesting-duration-number-container" style="display: none;">
                                                    {{ form.nesting_duration_number(class="form-select") }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Batch Size -->
                                    <div class="row mb-3">
                                        <label class="col-sm-3 col-form-label fw-semibold required">Batch Size</label>
                                        <div class="col-sm-9">
                                            {{ form.batch_size(class="form-select") }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Operational Assumptions -->
                        <div class="card shadow-sm mt-4">
                            <div class="card-header bg-secondary text-white">
                                <h3 class="card-title mb-0">
                                    <i class="fas fa-cogs me-2"></i>Operational Assumptions
                                </h3>
                            </div>
                            <div class="card-body">
                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <label class="form-label fw-semibold">Supervisor Ratio</label>
                                        {{ form.supervisor_ratio(class="form-control") }}
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-semibold">QA Ratio</label>
                                        {{ form.qa_ratio(class="form-control") }}
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label fw-semibold">Trainer Ratio</label>
                                        {{ form.trainer_ratio(class="form-control") }}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Language & Channel Support -->
                        <div class="card shadow-sm mt-4">
                            <div class="card-header bg-info text-white">
                                <h3 class="card-title mb-0">
                                    <i class="fas fa-language me-2"></i>Language & Channel Support
                                </h3>
                            </div>
                            <div class="card-body">
                                <!-- Languages -->
                                <div class="row mb-4">
                                    <label class="col-sm-3 col-form-label fw-semibold">Languages Supported</label>
                                    <div class="col-sm-9">
                                        {{ form.languages_supported(class="form-select") }}
                                    </div>
                                </div>

                                <!-- Channel Support -->
                                <div class="row">
                                    <div class="col-12">
                                        <h4 class="h5 mb-3">Channel Support:</h4>
                                        <div class="row g-3">
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    {{ form.voice_inbound(class="form-check-input") }}
                                                    <label class="form-check-label" for="{{ form.voice_inbound.id }}">
                                                        <i class="fas fa-phone me-2"></i>Voice - Inbound
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    {{ form.voice_outbound(class="form-check-input") }}
                                                    <label class="form-check-label" for="{{ form.voice_outbound.id }}">
                                                        <i class="fas fa-phone-alt me-2"></i>Voice - Outbound
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    {{ form.chat(class="form-check-input") }}
                                                    <label class="form-check-label" for="{{ form.chat.id }}">
                                                        <i class="fas fa-comments me-2"></i>Chat
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    {{ form.email(class="form-check-input") }}
                                                    <label class="form-check-label" for="{{ form.email.id }}">
                                                        <i class="fas fa-envelope me-2"></i>Email
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-check">
                                                    {{ form.back_office(class="form-check-input") }}
                                                    <label class="form-check-label" for="{{ form.back_office.id }}">
                                                        <i class="fas fa-building me-2"></i>Back Office
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Section - Summary & Actions -->
                    <div class="col-lg-4">
                        <div class="card shadow-sm sticky-top">
                            <div class="card-header bg-success text-white">
                                <h3 class="card-title mb-0">
                                    <i class="fas fa-check-circle me-2"></i>Form Actions
                                </h3>
                            </div>
                            <div class="card-body">
                                <div class="d-grid gap-3">
                                    <button type="submit" class="btn btn-primary btn-lg">
                                        <i class="fas fa-save me-2"></i>Submit Form
                                    </button>
                                    <button type="reset" class="btn btn-outline-secondary">
                                        <i class="fas fa-undo me-2"></i>Reset Form
                                    </button>
                                    <button type="button" class="btn btn-outline-info" onclick="validateForm()">
                                        <i class="fas fa-check me-2"></i>Validate Form
                                    </button>
                                </div>
                                
                                <hr class="my-4">
                                
                                <div class="form-summary">
                                    <h5 class="text-muted mb-3">Form Progress</h5>
                                    <div class="progress mb-2">
                                        <div class="progress-bar" id="form-progress" role="progressbar" style="width: 0%">
                                            <span class="progress-text">0%</span>
                                        </div>
                                    </div>
                                    <small class="text-muted">Complete all required fields</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
